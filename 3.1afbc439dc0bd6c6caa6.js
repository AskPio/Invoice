(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"Zb/u":function(l,n,e){"use strict";e.d(n,"a",function(){return o});var t=e("mrSG"),u=e("CcnG"),i=e("Q86s"),o=(e("Jc0W"),function(l){function n(n){var e=l.call(this,n)||this;return e.onClose=new u.EventEmitter,e.saving=!1,e}return Object(t.d)(n,l),n.prototype.close=function(){this.onClose.emit(),this.hide()},n.prototype.save=function(){this.onClose.emit(this.selectedWidgetId),this.hide()},n.prototype.show=function(l){this.widgets=l,this.selectedWidgetId=this.widgets&&this.widgets.length?this.widgets[0].id:null,this.modal.show()},n.prototype.hide=function(){this.modal.hide()},n}(i.a))},aibI:function(l,n,e){"use strict";var t=e("CcnG"),u=e("gIcY"),i=e("xtZt"),o=e("lqqz"),a=e("Ip0R"),d=e("jjfj"),r=e("/82y"),s=e("YAQW"),c=e("bse0"),g=e("pKUh"),p=e("ooh5"),f=e("kPyj"),h=e("DQlY"),b=e("Zb/u"),m=t["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function v(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["ɵdid"](1,147456,null,0,u.NgSelectOption,[t.ElementRef,t.Renderer2,[2,u.SelectControlValueAccessor]],{value:[0,"value"]},null),t["ɵdid"](2,147456,null,0,u["ɵangular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["ɵted"](3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)},function(l,n){l(n,3,0,n.context.$implicit.name)})}function C(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,8,"select",[["autoFocus",""],["class","form-control"],["name","selectedWidget"],["size","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var u=!0,i=l.component;return"change"===n&&(u=!1!==t["ɵnov"](l,2).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,2).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(i.selectedWidgetId=e)&&u),u},null,null)),t["ɵdid"](2,16384,null,0,u.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["ɵprd"](1024,null,u.NG_VALUE_ACCESSOR,function(l){return[l]},[u.SelectControlValueAccessor]),t["ɵdid"](4,671744,null,0,u.NgModel,[[2,u.ControlContainer],[8,null],[8,null],[6,u.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,u.NgControl,null,[u.NgModel]),t["ɵdid"](6,16384,null,0,u.NgControlStatus,[[4,u.NgControl]],null,null),t["ɵdid"](7,4210688,null,0,p.a,[t.ElementRef],null,null),(l()(),t["ɵand"](16777216,null,null,1,null,v)),t["ɵdid"](9,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,4,0,"selectedWidget",e.selectedWidgetId),l(n,9,0,e.widgets)},function(l,n){l(n,1,0,t["ɵnov"](n,6).ngClassUntouched,t["ɵnov"](n,6).ngClassTouched,t["ɵnov"](n,6).ngClassPristine,t["ɵnov"](n,6).ngClassDirty,t["ɵnov"](n,6).ngClassValid,t["ɵnov"](n,6).ngClassInvalid,t["ɵnov"](n,6).ngClassPending)})}function w(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵted"](1,null,[""," "])),t["ɵppd"](2,1)],null,function(l,n){var e=t["ɵunv"](n,1,0,l(n,2,0,t["ɵnov"](n.parent,0),"NoWidgetAvailableMessage"));l(n,1,0,e)})}function y(l){return t["ɵvid"](0,[t["ɵpid"](0,f.a,[t.Injector]),t["ɵqud"](402653184,1,{modal:0}),(l()(),t["ɵeld"](2,16777216,null,null,31,"div",[["aria-hidden","true"],["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"click"],[null,"keydown.esc"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l,3).onClick(e)&&u),"keydown.esc"===n&&(u=!1!==t["ɵnov"](l,3).onEsc(e)&&u),u},null,null)),t["ɵdid"](3,212992,[[1,4],["addWidgetModal",4]],0,h.d,[t.ElementRef,t.ViewContainerRef,t.Renderer2,o.a],{config:[0,"config"]},null),t["ɵpod"](4,{backdrop:0}),(l()(),t["ɵeld"](5,0,null,null,28,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(l()(),t["ɵeld"](6,0,null,null,27,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),t["ɵeld"](7,0,null,null,26,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0,i=l.component;return"submit"===n&&(u=!1!==t["ɵnov"](l,9).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["ɵnov"](l,9).onReset()&&u),"ngSubmit"===n&&(u=!1!==i.save()&&u),u},null,null)),t["ɵdid"](8,16384,null,0,u["ɵangular_packages_forms_forms_z"],[],null,null),t["ɵdid"](9,4210688,[["addWidgetModalForm",4]],0,u.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t["ɵprd"](2048,null,u.ControlContainer,null,[u.NgForm]),t["ɵdid"](11,16384,null,0,u.NgControlStatusGroup,[[4,u.ControlContainer]],null,null),(l()(),t["ɵeld"](12,0,null,null,7,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t["ɵeld"](13,0,null,null,3,"h5",[["class","modal-title"]],null,null,null,null,null)),(l()(),t["ɵeld"](14,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["ɵted"](15,null,["",""])),t["ɵppd"](16,1),(l()(),t["ɵeld"](17,0,null,null,2,"button",[["class","close"],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.close()&&t),t},null,null)),(l()(),t["ɵeld"](18,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,["×"])),(l()(),t["ɵeld"](20,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,C)),t["ɵdid"](22,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵand"](16777216,null,null,1,null,w)),t["ɵdid"](24,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](25,0,null,null,8,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),t["ɵeld"](26,0,null,null,2,"button",[["class","btn btn-secondary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.close()&&t),t},null,null)),(l()(),t["ɵted"](27,null,["",""])),t["ɵppd"](28,1),(l()(),t["ɵeld"](29,0,null,null,4,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t["ɵeld"](30,0,null,null,0,"i",[["class","fa fa-save"]],null,null,null,null,null)),(l()(),t["ɵeld"](31,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["ɵted"](32,null,["",""])),t["ɵppd"](33,1)],function(l,n){var e=n.component,t=l(n,4,0,"static");l(n,3,0,t),l(n,22,0,e.widgets&&e.widgets.length>0),l(n,24,0,!e.widgets||0==e.widgets.length)},function(l,n){var e=n.component;l(n,7,0,t["ɵnov"](n,11).ngClassUntouched,t["ɵnov"](n,11).ngClassTouched,t["ɵnov"](n,11).ngClassPristine,t["ɵnov"](n,11).ngClassDirty,t["ɵnov"](n,11).ngClassValid,t["ɵnov"](n,11).ngClassInvalid,t["ɵnov"](n,11).ngClassPending);var u=t["ɵunv"](n,15,0,l(n,16,0,t["ɵnov"](n,0),"AddWidget"));l(n,15,0,u),l(n,17,0,e.l("Close")),l(n,26,0,e.saving);var i=t["ɵunv"](n,27,0,l(n,28,0,t["ɵnov"](n,0),"Cancel"));l(n,27,0,i),l(n,29,0,e.saving);var o=t["ɵunv"](n,32,0,l(n,33,0,t["ɵnov"](n,0),"Save"));l(n,32,0,o)})}var P=e("PEYQ");e("bZ9z"),e("W15m"),e("KALY"),e.d(n,"a",function(){return I}),e.d(n,"b",function(){return U});var I=t["ɵcrt"]({encapsulation:0,styles:[['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:24px;margin:0;top:0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translateX(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.deleteWidgetButton[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:22px;padding:0 7px!important;height:22px;border-radius:0 0 0 10px;box-shadow:none;outline:0;text-align:center;border:0!important;z-index:1002}gridster[_ngcontent-%COMP%]{height:calc(100vh - 300px);background:0 0}gridster.no-tab[_ngcontent-%COMP%]{height:calc(100vh - 230px)}[_nghost-%COMP%]     gridster .gridster-row{border-top:1px dotted #c1c1c1!important;border-bottom:1px dotted #c1c1c1!important}[_nghost-%COMP%]     gridster .gridster-column{border-left:1px dotted #c1c1c1!important;border-right:1px dotted #c1c1c1!important}.div-dashboard-customization[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:120;background-color:#cecece;border-radius:10px;padding:15px}.div-dashboard-customization[_ngcontent-%COMP%]   .vr[_ngcontent-%COMP%]{border-right:1px solid #fff;float:left;margin-right:8px}[_nghost-%COMP%]     tabset.nav-hidden .nav-tabs{display:none}.btn-filter[_ngcontent-%COMP%]{margin-right:8px}[_nghost-%COMP%]     gridster .kt-portlet{margin:0;height:100%}[_nghost-%COMP%]     gridster .kt-portlet__body{overflow:auto}.div-dashboard-customization[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 3px}.filterModal[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:10px}']],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"padding-top":"20px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"padding-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","padding-top":"0px"},offset:null},timings:"0.33s ease-out"}],options:null}],options:{}}]}});function D(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,1,"button",[["class","btn btn-brand btn-icon btn-filter"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l.parent,41).show()&&u),u},null,null)),(l()(),t["ɵeld"](1,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null))],null,null)}function R(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,14,"ul",[["aria-labelledby","button-basic"],["class","dropdown-menu kt-padding-10"],["role","menu"]],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,13,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](3,0,null,null,2,"label",[["for","PageNameInput"]],null,null,null,null,null)),(l()(),t["ɵted"](4,null,["",""])),t["ɵppd"](5,1),(l()(),t["ɵeld"](6,0,null,null,5,"input",[["class","form-control"],["placeholder",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t["ɵnov"](l,7)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,7).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,7)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,7)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(i.addPageInput=e)&&u),u},null,null)),t["ɵdid"](7,16384,null,0,u.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,u.COMPOSITION_BUFFER_MODE]],null,null),t["ɵprd"](1024,null,u.NG_VALUE_ACCESSOR,function(l){return[l]},[u.DefaultValueAccessor]),t["ɵdid"](9,671744,null,0,u.NgModel,[[8,null],[8,null],[8,null],[6,u.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,u.NgControl,null,[u.NgModel]),t["ɵdid"](11,16384,null,0,u.NgControlStatus,[[4,u.NgControl]],null,null),(l()(),t["ɵeld"](12,0,null,null,2,"button",[["class","btn btn-sm btn-block btn-info"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.addNewPage(u.addPageInput)&&t),t},null,null)),(l()(),t["ɵted"](13,null,["",""])),t["ɵppd"](14,1)],function(l,n){l(n,9,0,n.component.addPageInput)},function(l,n){var e=t["ɵunv"](n,4,0,l(n,5,0,t["ɵnov"](n.parent.parent.parent,0),"NewPageName"));l(n,4,0,e),l(n,6,0,t["ɵnov"](n,11).ngClassUntouched,t["ɵnov"](n,11).ngClassTouched,t["ɵnov"](n,11).ngClassPristine,t["ɵnov"](n,11).ngClassDirty,t["ɵnov"](n,11).ngClassValid,t["ɵnov"](n,11).ngClassInvalid,t["ɵnov"](n,11).ngClassPending);var u=t["ɵunv"](n,13,0,l(n,14,0,t["ɵnov"](n.parent.parent.parent,0),"Save"));l(n,13,0,u)})}function _(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,14,"ul",[["aria-labelledby","button-basic"],["class","dropdown-menu kt-padding-10"],["role","menu"]],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,13,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t["ɵeld"](3,0,null,null,2,"label",[["for","PageNameInput"]],null,null,null,null,null)),(l()(),t["ɵted"](4,null,["",""])),t["ɵppd"](5,1),(l()(),t["ɵeld"](6,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t["ɵnov"](l,7)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["ɵnov"](l,7).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["ɵnov"](l,7)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["ɵnov"](l,7)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(i.renamePageInput=e)&&u),u},null,null)),t["ɵdid"](7,16384,null,0,u.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,u.COMPOSITION_BUFFER_MODE]],null,null),t["ɵprd"](1024,null,u.NG_VALUE_ACCESSOR,function(l){return[l]},[u.DefaultValueAccessor]),t["ɵdid"](9,671744,null,0,u.NgModel,[[8,null],[8,null],[8,null],[6,u.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,u.NgControl,null,[u.NgModel]),t["ɵdid"](11,16384,null,0,u.NgControlStatus,[[4,u.NgControl]],null,null),(l()(),t["ɵeld"](12,0,null,null,2,"button",[["class","btn btn-sm btn-block btn-info"]],null,[[null,"click"]],function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=!1!==u.renamePage(u.renamePageInput)&&t),t},null,null)),(l()(),t["ɵted"](13,null,["",""])),t["ɵppd"](14,1)],function(l,n){l(n,9,0,n.component.renamePageInput)},function(l,n){var e=n.component,u=t["ɵunv"](n,4,0,l(n,5,0,t["ɵnov"](n.parent.parent.parent,0),"PageNewName"));l(n,4,0,u),l(n,6,0,t["ɵinlineInterpolate"](1,"",e.selectedPage.name,""),t["ɵnov"](n,11).ngClassUntouched,t["ɵnov"](n,11).ngClassTouched,t["ɵnov"](n,11).ngClassPristine,t["ɵnov"](n,11).ngClassDirty,t["ɵnov"](n,11).ngClassValid,t["ɵnov"](n,11).ngClassInvalid,t["ɵnov"](n,11).ngClassPending);var i=t["ɵunv"](n,13,0,l(n,14,0,t["ɵnov"](n.parent.parent.parent,0),"Save"));l(n,13,0,i)})}function k(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵppd"](2,1)],null,function(l,n){var e=t["ɵunv"](n,1,0,l(n,2,0,t["ɵnov"](n.parent.parent.parent,0),"DeletePage"));l(n,1,0,e)})}function N(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["ɵted"](1,null,["",""])),t["ɵppd"](2,1)],null,function(l,n){var e=t["ɵunv"](n,1,0,l(n,2,0,t["ɵnov"](n.parent.parent.parent,0),"BackToDefaultPage"));l(n,1,0,e)})}function x(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,40,"div",[["class","div-dashboard-customization"]],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,5,"div",[["class","vr"]],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,3,"button",[["class","btn btn-sm btn-warning btn-elevate-hover btn-pill"],["id","AddWidgetButton"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.openAddWidgetModal()&&t),t},null,null)),(l()(),t["ɵeld"](3,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["ɵted"](4,null,["",""])),t["ɵppd"](5,1),(l()(),t["ɵted"](-1,null,["   "])),(l()(),t["ɵeld"](7,0,null,null,29,"div",[["class","vr"]],null,null,null,null,null)),(l()(),t["ɵeld"](8,16777216,null,null,10,"div",[["class","btn-group"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],[[null,"onShown"]],function(l,n,e){var t=!0;return"onShown"===n&&(t=!1!==l.component.addPageDropdownShown()&&t),t},null,null)),t["ɵprd"](512,null,i.f,i.f,[]),t["ɵdid"](10,212992,[[4,4],["dropdownAddPage",4]],0,i.c,[t.ElementRef,t.Renderer2,t.ViewContainerRef,o.a,i.a,i.f],{dropup:[0,"dropup"],insideClick:[1,"insideClick"]},{onShown:"onShown"}),(l()(),t["ɵeld"](11,0,null,null,5,"button",[["aria-controls","dropdown-basic"],["class","btn btn-sm btn-primary dropdown-toggle btn-elevate-hover btn-pill"],["dropdownToggle",""],["type","button"]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l,12).onClick()&&u),u},null,null)),t["ɵdid"](12,147456,null,0,i.g,[t.ChangeDetectorRef,i.c,t.ElementRef,t.Renderer2,i.f],null,null),(l()(),t["ɵeld"](13,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),t["ɵted"](14,null,[" ",""])),t["ɵppd"](15,1),(l()(),t["ɵeld"](16,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,R)),t["ɵdid"](18,16384,null,0,i.d,[i.f,t.ViewContainerRef,t.TemplateRef],null,null),(l()(),t["ɵeld"](19,16777216,null,null,10,"div",[["class","btn-group"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],[[null,"onShown"]],function(l,n,e){var t=!0;return"onShown"===n&&(t=!1!==l.component.renamePageDropdownShown()&&t),t},null,null)),t["ɵprd"](512,null,i.f,i.f,[]),t["ɵdid"](21,212992,[[3,4],["dropdownRenamePage",4]],0,i.c,[t.ElementRef,t.Renderer2,t.ViewContainerRef,o.a,i.a,i.f],{dropup:[0,"dropup"],insideClick:[1,"insideClick"],isDisabled:[2,"isDisabled"]},{onShown:"onShown"}),(l()(),t["ɵeld"](22,0,null,null,5,"button",[["aria-controls","dropdown-basic"],["class","btn btn-sm btn-info btn-elevate-hover btn-pill dropdown-toggle"],["dropdownToggle",""],["type","button"]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l,23).onClick()&&u),u},null,null)),t["ɵdid"](23,147456,null,0,i.g,[t.ChangeDetectorRef,i.c,t.ElementRef,t.Renderer2,i.f],null,null),(l()(),t["ɵeld"](24,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null)),(l()(),t["ɵted"](25,null,["",""])),t["ɵppd"](26,1),(l()(),t["ɵeld"](27,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,_)),t["ɵdid"](29,16384,null,0,i.d,[i.f,t.ViewContainerRef,t.TemplateRef],null,null),(l()(),t["ɵeld"](30,0,null,null,5,"button",[["class","btn btn-sm btn-danger btn-elevate-hover btn-pill"],["id","DeletePageButton"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deletePage()&&t),t},null,null)),(l()(),t["ɵeld"](31,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,k)),t["ɵdid"](33,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵand"](16777216,null,null,1,null,N)),t["ɵdid"](35,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵted"](-1,null,["   "])),(l()(),t["ɵeld"](37,0,null,null,3,"button",[["class","btn btn-sm btn-success btn-elevate-hover btn-pill"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.savePage()&&t),t},null,null)),(l()(),t["ɵeld"](38,0,null,null,0,"i",[["class","fa fa-save"]],null,null,null,null,null)),(l()(),t["ɵted"](39,null,[""," "])),t["ɵppd"](40,1)],function(l,n){var e=n.component;l(n,10,0,!0,!0),l(n,21,0,!0,!0,""===e.selectedPage.id),l(n,33,0,e.userDashboard.pages.length>1),l(n,35,0,1==e.userDashboard.pages.length)},function(l,n){var e=n.component;l(n,2,0,""===e.selectedPage.id);var u=t["ɵunv"](n,4,0,l(n,5,0,t["ɵnov"](n.parent.parent,0),"AddWidget"));l(n,4,0,u),l(n,8,0,t["ɵnov"](n,10).dropup,t["ɵnov"](n,10).isOpen,t["ɵnov"](n,10).isOpen&&t["ɵnov"](n,10).isBs4),l(n,11,0,!0,t["ɵnov"](n,12).isDisabled,t["ɵnov"](n,12).isOpen);var i=t["ɵunv"](n,14,0,l(n,15,0,t["ɵnov"](n.parent.parent,0),"AddPage"));l(n,14,0,i),l(n,19,0,t["ɵnov"](n,21).dropup,t["ɵnov"](n,21).isOpen,t["ɵnov"](n,21).isOpen&&t["ɵnov"](n,21).isBs4),l(n,22,0,!0,t["ɵnov"](n,23).isDisabled,t["ɵnov"](n,23).isOpen);var o=t["ɵunv"](n,25,0,l(n,26,0,t["ɵnov"](n.parent.parent,0),"RenamePage"));l(n,25,0,o),l(n,30,0,""===e.selectedPage.id);var a=t["ɵunv"](n,39,0,l(n,40,0,t["ɵnov"](n.parent.parent,0),"Save"));l(n,39,0,a)})}function M(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function O(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,1,"button",[["class","btn btn-sm text-white bg-danger deleteWidgetButton"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeItem(l.parent.context.$implicit.gridInformation)&&t),t},null,null)),(l()(),t["ɵeld"](1,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null))],null,null)}function S(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,5,"gridster-item",[],null,null,null,d.f,d.d)),t["ɵdid"](1,245760,null,0,r.b,[t.ElementRef,r.a,t.Renderer2,t.NgZone],{item:[0,"item"]},null),(l()(),t["ɵand"](16777216,null,0,1,null,M)),t["ɵdid"](3,671744,null,0,a.NgComponentOutlet,[t.ViewContainerRef],{ngComponentOutlet:[0,"ngComponentOutlet"]},null),(l()(),t["ɵand"](16777216,null,0,1,null,O)),t["ɵdid"](5,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,n.context.$implicit.gridInformation),l(n,3,0,n.context.$implicit.component),l(n,5,0,e.editModeEnabled)},null)}function E(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,10,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],[[null,"selectTab"]],function(l,n,e){var t=!0;return"selectTab"===n&&(t=!1!==l.component.selectPageTab(l.context.$implicit.id,e)&&t),t},null,null)),t["ɵdid"](1,212992,null,0,s.b,[s.e,t.ElementRef,t.Renderer2],{heading:[0,"heading"]},{selectTab:"selectTab"}),(l()(),t["ɵeld"](2,0,null,null,8,"gridster",[],null,null,null,d.e,d.c)),t["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["ɵdid"](4,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["ɵpod"](5,{"no-tab":0}),t["ɵdid"](6,770048,null,0,r.a,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef,t.NgZone],{options:[0,"options"]},null),t["ɵdid"](7,999424,null,0,c.c,[t.NgZone,t.KeyValueDiffers,t.ElementRef,t.PLATFORM_ID,[2,c.a]],{config:[0,"config"]},null),t["ɵpod"](8,{wheelPropagation:0}),(l()(),t["ɵand"](16777216,null,0,1,null,S)),t["ɵdid"](10,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,1,0,t["ɵinlineInterpolate"](1,"",n.context.$implicit.name,""));var u=l(n,5,0,!e.moreThanOnePage());l(n,4,0,u),l(n,6,0,e.options[n.context.index]);var i=l(n,8,0,!1);l(n,7,0,i),l(n,10,0,n.context.$implicit.widgets)},function(l,n){l(n,0,0,t["ɵnov"](n,1).id,t["ɵnov"](n,1).active,t["ɵnov"](n,1).addClass)})}function V(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,11,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,9,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,x)),t["ɵdid"](4,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](5,0,null,null,6,"tabset",[],[[2,"tab-container",null]],null,null,g.b,g.a)),t["ɵprd"](512,null,a["ɵNgClassImpl"],a["ɵNgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["ɵdid"](7,278528,null,0,a.NgClass,[a["ɵNgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["ɵpod"](8,{"nav-hidden":0}),t["ɵdid"](9,180224,[["dashboardTabs",4]],0,s.e,[s.f,t.Renderer2,t.ElementRef],{justified:[0,"justified"]},null),(l()(),t["ɵand"](16777216,null,0,1,null,E)),t["ɵdid"](11,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,4,0,e.editModeEnabled);var t=l(n,8,0,!e.moreThanOnePage());l(n,7,0,t),l(n,9,0,!0),l(n,11,0,e.userDashboard.pages)},function(l,n){l(n,0,0,n.component.containerClass+" kt-grid__item kt-grid__item--fluid"),l(n,5,0,t["ɵnov"](n,9).clazz)})}function A(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,1,"add-widget-modal",[],null,[[null,"onClose"]],function(l,n,e){var t=!0;return"onClose"===n&&(t=!1!==l.component.addWidget(e)&&t),t},y,m)),t["ɵdid"](1,49152,[[1,4],["addWidgetModal",4]],0,b.a,[t.Injector],null,{onClose:"onClose"})],null,null)}function T(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function W(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,0,"hr",[],null,null,null,null,null))],null,null)}function F(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),t["ɵeld"](1,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["ɵeld"](2,0,null,null,2,"h6",[["style","margin-left: 10px;"]],null,null,null,null,null)),(l()(),t["ɵted"](3,null,["",""])),t["ɵppd"](4,1),(l()(),t["ɵeld"](5,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,T)),t["ɵdid"](7,671744,null,0,a.NgComponentOutlet,[t.ViewContainerRef],{ngComponentOutlet:[0,"ngComponentOutlet"]},null),(l()(),t["ɵand"](16777216,null,null,1,null,W)),t["ɵdid"](9,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,7,0,n.context.$implicit.component),l(n,9,0,n.context.index!=e.userDashboard.filters.length-1)},function(l,n){var e=t["ɵunv"](n,3,0,l(n,4,0,t["ɵnov"](n.parent.parent,0),n.context.$implicit.name));l(n,3,0,e)})}function z(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,F)),t["ɵdid"](2,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.userDashboard.filters)},null)}function U(l){return t["ɵvid"](0,[t["ɵpid"](0,f.a,[t.Injector]),t["ɵqud"](671088640,1,{addWidgetModal:0}),t["ɵqud"](402653184,2,{modal:0}),t["ɵqud"](671088640,3,{dropdownRenamePage:0}),t["ɵqud"](671088640,4,{dropdownAddPage:0}),(l()(),t["ɵeld"](5,0,null,null,52,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(l()(),t["ɵeld"](6,16777216,null,null,31,"div",[["class","kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"]],null,null,null,null,null)),t["ɵdid"](7,540672,null,0,P.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.Injector],{busyIf:[0,"busyIf"]},null),(l()(),t["ɵeld"](8,0,null,null,27,"div",[["class","kt-subheader kt-grid__item"]],null,null,null,null,null)),(l()(),t["ɵeld"](9,0,null,null,26,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),t["ɵeld"](10,0,null,null,16,"div",[["class","kt-subheader__main"]],null,null,null,null,null)),(l()(),t["ɵeld"](11,0,null,null,3,"h3",[["class","kt-subheader__title"]],null,null,null,null,null)),(l()(),t["ɵeld"](12,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["ɵted"](13,null,["",""])),t["ɵppd"](14,1),(l()(),t["ɵeld"](15,0,null,null,0,"span",[["class","kt-subheader__separator kt-subheader__separator--v"]],null,null,null,null,null)),(l()(),t["ɵeld"](16,0,null,null,2,"span",[["class","kt-subheader__desc"]],null,null,null,null,null)),(l()(),t["ɵted"](17,null,[" "," "])),t["ɵppd"](18,1),(l()(),t["ɵeld"](19,0,null,null,7,"div",[["class","kt-pagination kt-pagination--brand d-none"]],null,null,null,null,null)),(l()(),t["ɵeld"](20,0,null,null,6,"ul",[["class","kt-pagination__links"]],null,null,null,null,null)),(l()(),t["ɵeld"](21,0,null,null,2,"li",[["class","kt-pagination__link--next"]],null,null,null,null,null)),(l()(),t["ɵeld"](22,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(l()(),t["ɵeld"](23,0,null,null,0,"i",[["class","fa fa-angle-left kt-font-brand"]],null,null,null,null,null)),(l()(),t["ɵeld"](24,0,null,null,2,"li",[["class","kt-pagination__link--prev"]],null,null,null,null,null)),(l()(),t["ɵeld"](25,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(l()(),t["ɵeld"](26,0,null,null,0,"i",[["class","fa fa-angle-right kt-font-brand"]],null,null,null,null,null)),(l()(),t["ɵeld"](27,0,null,null,8,"div",[["class","kt-subheader__toolbar"]],null,null,null,null,null)),(l()(),t["ɵand"](16777216,null,null,1,null,D)),t["ɵdid"](29,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](30,0,null,null,2,"label",[["class","switch"]],null,null,null,null,null)),(l()(),t["ɵeld"](31,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.changeEditMode()&&t),t},null,null)),(l()(),t["ɵeld"](32,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(l()(),t["ɵeld"](33,0,null,null,2,"strong",[["class","p-1 d-inline-block"]],null,null,null,null,null)),(l()(),t["ɵted"](34,null,[" "," "])),t["ɵppd"](35,1),(l()(),t["ɵand"](16777216,null,null,1,null,V)),t["ɵdid"](37,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵand"](16777216,null,null,1,null,A)),t["ɵdid"](39,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](40,16777216,null,null,17,"div",[["aria-hidden","true"],["bsModal",""],["class","modal fade filterModal"],["role","dialog"],["tabindex","-1"]],null,[[null,"click"],[null,"keydown.esc"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["ɵnov"](l,41).onClick(e)&&u),"keydown.esc"===n&&(u=!1!==t["ɵnov"](l,41).onEsc(e)&&u),u},null,null)),t["ɵdid"](41,212992,[[2,4],["filterModal",4]],0,h.d,[t.ElementRef,t.ViewContainerRef,t.Renderer2,o.a],null,null),(l()(),t["ɵeld"](42,0,null,null,15,"div",[["class","modal-dialog modal-md"]],null,null,null,null,null)),(l()(),t["ɵeld"](43,0,null,null,14,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),t["ɵeld"](44,0,null,null,7,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t["ɵeld"](45,0,null,null,3,"h5",[["class","modal-title"]],null,null,null,null,null)),(l()(),t["ɵeld"](46,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["ɵted"](47,null,["",""])),t["ɵppd"](48,1),(l()(),t["ɵeld"](49,0,null,null,2,"button",[["class","close"],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.close()&&t),t},null,null)),(l()(),t["ɵeld"](50,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),t["ɵted"](-1,null,["×"])),(l()(),t["ɵand"](16777216,null,null,1,null,z)),t["ɵdid"](53,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["ɵeld"](54,0,null,null,3,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),t["ɵeld"](55,0,null,null,2,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.close()&&t),t},null,null)),(l()(),t["ɵted"](56,null,["",""])),t["ɵppd"](57,1)],function(l,n){var e=n.component;l(n,7,0,e.busy),l(n,29,0,!e.loading&&e.userDashboard.filters&&e.userDashboard.filters.length>0),l(n,37,0,!e.loading),l(n,39,0,e.dashboardName),l(n,41,0),l(n,53,0,e.userDashboard)},function(l,n){var e=n.component;l(n,5,0,void 0),l(n,9,0,e.containerClass);var u=t["ɵunv"](n,13,0,l(n,14,0,t["ɵnov"](n,0),"Dashboard"));l(n,13,0,u);var i=t["ɵunv"](n,17,0,l(n,18,0,t["ɵnov"](n,0),"DashboardHeaderInfo"));l(n,17,0,i),l(n,31,0,e.editModeEnabled);var o=t["ɵunv"](n,34,0,l(n,35,0,t["ɵnov"](n,0),"EditMode"));l(n,34,0,o);var a=t["ɵunv"](n,47,0,l(n,48,0,t["ɵnov"](n,0),"DashboardFilters"));l(n,47,0,a),l(n,49,0,e.l("Close"));var d=t["ɵunv"](n,56,0,l(n,57,0,t["ɵnov"](n,0),"Close"));l(n,56,0,d)})}},bZ9z:function(l,n,e){"use strict";e.d(n,"a",function(){return a});var t=e("mrSG"),u=e("Q86s"),i=(e("W15m"),e("KALY")),o=(e("Jc0W"),e("Zb/u"),e("8wcD")),a=function(l){function n(n,e,t){var u=l.call(this,n)||this;return u._dashboardViewConfiguration=e,u._dashboardCustomizationServiceProxy=t,u.loading=!0,u.busy=!0,u.editModeEnabled=!1,u.options=[],u.selectedPage={id:"",name:""},u.renamePageInput="",u.addPageInput="",u}return Object(t.d)(n,l),n.prototype.ngOnInit=function(){var l=this;this.loading=!0,this._dashboardCustomizationServiceProxy.getDashboardDefinition(this.dashboardName,o.a.Applications.Angular).subscribe(function(n){if(l.dashboardDefinition=n,l.dashboardDefinition.widgets&&0!==l.dashboardDefinition.widgets.length){var e=l.getUserDashboard(l.dashboardName);l.initializeUserDashboardDefinition(e,n),l.initializeUserDashboardFilters(),l.selectedPage={id:l.userDashboard.pages[0].id,name:l.userDashboard.pages[0].name},l.loading=!1,l.busy=!1}else l.loading=!1})},n.prototype.initializeUserDashboardDefinition=function(l,n){var e=this;this.userDashboard={dashboardName:this.dashboardName,filters:[],pages:l.Pages.map(function(l){return e.options.push(e.getGridsterConfig()),l.Widgets?(l.Widgets=l.Widgets.filter(function(l){return n.widgets.find(function(n){return n.id===l.WidgetId})&&e.getWidgetViewDefinition(l.WidgetId)}),{id:l.Id,name:l.Name,widgets:l.Widgets.map(function(l){return{id:l.WidgetId,component:e.getWidgetViewDefinition(l.WidgetId).component,gridInformation:{id:l.WidgetId,cols:l.Width,rows:l.Height,x:l.PositionX,y:l.PositionY}}})}):{id:l.Id,name:l.Name,widgets:[]}})}},n.prototype.removeItem=function(l){var n=this,e=this.userDashboard.pages.find(function(l){return l.id===n.selectedPage.id}),t=e.widgets.find(function(n){return n.id===l.id}),u=this.dashboardDefinition.widgets.find(function(n){return n.id===l.id});t&&u&&this.message.confirm(this.l("WidgetDeleteWarningMessage",this.l(u.name),this.selectedPage.name),this.l("AreYouSure"),function(l){l&&e.widgets.splice(e.widgets.indexOf(t),1)})},n.prototype.addWidget=function(l){var n=this;if(l){var e=this._dashboardViewConfiguration.WidgetViewDefinitions.find(function(n){return n.id===l});e?this.userDashboard.pages.find(function(l){return l.id===n.selectedPage.id}).widgets.find(function(n){return n.id===l})||(this.busy=!0,this._dashboardCustomizationServiceProxy.addWidget(new i.e({widgetId:l,pageId:this.selectedPage.id,dashboardName:this.dashboardName,width:e.defaultWidth,height:e.defaultHeight,application:o.a.Applications.Angular})).subscribe(function(t){n.userDashboard.pages.find(function(l){return l.id===n.selectedPage.id}).widgets.push({id:l,component:e.component,gridInformation:{id:l,cols:t.width,rows:t.height,x:t.positionX,y:t.positionY}}),n.initializeUserDashboardFilters(),n.busy=!1,n.notify.success(n.l("SavedSuccessfully"))})):abp.notify.error(this.l("ThereIsNoViewConfigurationForX",l))}},n.prototype.getUserDashboards=function(){var l=this.s("App.DashboardCustomization.Configuration."+o.a.Applications.Angular);return JSON.parse(l)},n.prototype.getUserDashboard=function(l){return this.getUserDashboards().filter(function(n){return n.DashboardName===l})[0]},n.prototype.getWidgetViewDefinition=function(l){return this._dashboardViewConfiguration.WidgetViewDefinitions.find(function(n){return n.id===l})},n.prototype.getWidgetFilterViewDefinition=function(l){return this._dashboardViewConfiguration.widgetFilterDefinitions.find(function(n){return n.id===l})},n.prototype.changeEditMode=function(){var l=this;this.editModeEnabled=!this.editModeEnabled,this.options.forEach(function(n){n.draggable.enabled=l.editModeEnabled,n.resizable.enabled=l.editModeEnabled,n.api.optionsChanged()})},n.prototype.openAddWidgetModal=function(){var l=this,n=this.userDashboard.pages.find(function(n){return n.id===l.selectedPage.id});if(n){var e=this.dashboardDefinition.widgets.filter(function(l){return!n.widgets.find(function(n){return n.id===l.id})});this.addWidgetModal.show(e)}},n.prototype.addNewPage=function(l){var n=this;l&&""!==l.trim()?(l=l.trim(),this.busy=!0,this._dashboardCustomizationServiceProxy.addNewPage(new i.d({dashboardName:this.dashboardName,name:l,application:o.a.Applications.Angular})).subscribe(function(e){n.options.push(n.getGridsterConfig()),n.userDashboard.pages.push({id:e.pageId,name:l,widgets:[]}),n.busy=!1,n.notify.success(n.l("SavedSuccessfully")),""===n.selectedPage.id&&n.selectPageTab(e.pageId)}),this.dropdownAddPage.hide()):this.notify.warn(this.l("PageNameCanNotBeEmpty"))},n.prototype.selectPageTab=function(l){l?(this.selectedPage={id:l,name:this.userDashboard.pages.find(function(n){return n.id===l}).name},this.options.forEach(function(l){l.api&&l.api.optionsChanged()})):this.selectedPage={id:"",name:""}},n.prototype.renamePage=function(l){var n=this;if(l&&""!==l){l=l.trim(),this.busy=!0;var e=this.selectedPage.id;this._dashboardCustomizationServiceProxy.renamePage(new i.Jb({dashboardName:this.dashboardName,id:e,name:l,application:o.a.Applications.Angular})).subscribe(function(){n.userDashboard.pages.find(function(l){return l.id===e}).name=l,n.notify.success(n.l("Renamed")),n.busy=!1}),this.dropdownRenamePage.hide()}else this.notify.warn(this.l("PageNameCanNotBeEmpty"))},n.prototype.deletePage=function(){var l=this,n=this.l(this.userDashboard.pages.length>1?"PageDeleteWarningMessage":"BackToDefaultPageWarningMessage",this.selectedPage.name);this.message.confirm(n,this.l("AreYouSure"),function(n){n&&(l.busy=!0,l._dashboardCustomizationServiceProxy.deletePage(l.selectedPage.id,l.dashboardName,o.a.Applications.Angular).subscribe(function(){var n=l.userDashboard.pages.find(function(n){return n.id===l.selectedPage.id});l.options.pop(),l.userDashboard.pages.splice(l.userDashboard.pages.indexOf(n),1),l.activateFirstPage(),l.busy=!1,l.notify.success(l.l("SuccessfullyRemoved")),0===l.userDashboard.pages.length&&window.location.reload()}))})},n.prototype.activateFirstPage=function(){var l=this;this.userDashboard.pages[0]?(setTimeout(function(){l._dashboardTabs.tabs[0].active=!0},0),this.selectPageTab(this.userDashboard.pages[0].id),this.initializeUserDashboardFilters()):this.selectPageTab(null)},n.prototype.savePage=function(){var l=this;this.busy=!0;var n=new i.Qb({dashboardName:this.dashboardName,pages:this.userDashboard.pages.map(function(l){return new i.yb({id:l.id,name:l.name,widgets:l.widgets.map(function(l){return new i.Rc({widgetId:l.gridInformation.id,height:l.gridInformation.rows,width:l.gridInformation.cols,positionX:l.gridInformation.x,positionY:l.gridInformation.y})})})}),application:o.a.Applications.Angular});this._dashboardCustomizationServiceProxy.savePage(n).subscribe(function(){l.changeEditMode(),l.initializeUserDashboardFilters(),l.busy=!1,l.notify.success(l.l("SavedSuccessfully")),window.location.reload()})},n.prototype.getGridsterConfig=function(){return{pushItems:!0,draggable:{enabled:this.editModeEnabled},resizable:{enabled:this.editModeEnabled},fixedRowHeight:30,fixedColWidth:30,gridType:"verticalFixed"}},n.prototype.moreThanOnePage=function(){return this.userDashboard&&this.userDashboard.pages&&this.userDashboard.pages.length>1},n.prototype.close=function(){this.modal.hide()},n.prototype.addPageDropdownShown=function(){this.addPageInput=""},n.prototype.renamePageDropdownShown=function(){this.renamePageInput=""},n.prototype.initializeUserDashboardFilters=function(){var l=this,n=[];this.dashboardDefinition.widgets.filter(function(l){return null!=l.filters&&l.filters.length>0}).forEach(function(e){l.userDashboard.pages&&l.userDashboard.pages.forEach(function(l){0!==l.widgets.filter(function(l){return l.id===e.id}).length&&e.filters.forEach(function(l){n.find(function(n){return n.id===l.id})||n.push(l)})})}),this.userDashboard.filters=n.map(function(n){var e=l.getWidgetFilterViewDefinition(n.id);return e.name=n.name,e})},n}(u.a)}}]);